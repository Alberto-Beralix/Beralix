plugin: local
name: unity/check_and_install_xlib
requires: package.name == 'unity'
user: root
command: dpkg -l | grep -iq 'python-xlib' || apt-get install -y  python-xlib
description: Xlib is required for unity testing. This checks for Xlib and installs it if not available.
description-cs.UTF-8: Pro testování unity je potřeba Xlib. Toto zkontroluje, zda je Xlib dostupné a instaluje jej, pokud tomu tak není.
description-de.UTF-8: Xlib wird für Unity-Tests benötigt. Dies prüft ob Xlib installiert ist und installiert es, falls notwendig.
description-en_AU.UTF-8: Xlib is required for unity testing. This checks for Xlib and installs it if not available.
description-en_GB.UTF-8: Xlib is required for unity testing. This checks for Xlib and installs it if not available.
description-es.UTF-8: Se necesita Xlib para probar unity. Esta operación busca Xlib y lo instala si no está disponible.
description-hu.UTF-8: Az Xlib szükséges a Unity teszteléséhez. A következőkben ellenőrizve lesz a megléte és szükség esetén telepítve lesz.
description-it.UTF-8: Per il test di Unity è necessaria Xlib. Verrà verificata la presenza di Xlib installandola se non disponibile.
description-pt_BR.UTF-8: A Xlib é necessária para testar o Unity. Este procura pela Xlib e a instala se não estiver disponível.
description-ru.UTF-8: Xlib необходима для проверки unity. Выполняет проверку наличия Xlib и установку, если она недоступна.
description-sl.UTF-8: Za preizkus je zahtevan paket Xlib. Ta preizkus preveri, če je Xlib nameščen, če ni, ga namesti.

plugin: shell
name: unity/autopilot_test
requires: package.name == 'unity'
depends: unity/check_and_install_xlib
command: check_unity
description:
 This test will verify that Unity is running and then run the autopilot.py test against the Unity interface.
