%!PS
%
% $Header: /home/cvs/foo2zjs/crd/zjs/prolog.ps,v 1.3 2004/07/02 11:45:14 rick Exp $
%
% Copyright (C) 2004  Gerhard Fuernkranz
%
% This program is free software; you can redistribute it and/or modify
% it under the terms of the GNU General Public License as published by
% the Free Software Foundation; either version 2 of the License, or
% (at your option) any later version.
%
% This program is distributed in the hope that it will be useful,
% but WITHOUT ANY WARRANTY; without even the implied warranty of
% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
% GNU General Public License for more details.
%
% You should have received a copy of the GNU General Public License
% along with this program; if not, write to the Free Software
% Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
%

% setup initial clipping,
% redefine initclip to clip 4mm (approx 12pt) on each side

/m2300wBorder 4
  25.4 div 72 mul def

/m2300w_initclip {
  initclip clippath pathbbox
  m2300wBorder 2 mul sub 4 1 roll
  m2300wBorder 2 mul sub 4 1 roll
  m2300wBorder add 4 1 roll
  m2300wBorder add 4 1 roll
  rectclip
} bind def

<< /BeginPage { pop m2300w_initclip } bind >> setpagedevice


% setup CIE based color rendering

<< /UseCIEColor true >> setpagedevice

revision 800 ge {

    /DefaultGray
    [ /CIEBasedA <<
      /DecodeLMN [
      { dup 0.03928 le
          {12.92321 div}
          {0.055 add 1.055 div 2.4 exp}
        ifelse
      } bind dup dup
      ]
      /MatrixLMN [0.412457 0.212673 0.019334
                0.357576 0.715152 0.119192
                0.180437 0.072175 0.950301]
      /WhitePoint [0.9505 1.0 1.0890]
    >> ] /ColorSpace defineresource pop

    /DefaultRGB
    [ /CIEBasedABC <<
      /DecodeLMN [
      { dup 0.03928 le
          {12.92321 div}
          {0.055 add 1.055 div 2.4 exp}
        ifelse
      } bind dup dup
      ]
      /MatrixLMN [0.412457 0.212673 0.019334
                0.357576 0.715152 0.119192
                0.180437 0.072175 0.950301]
      /WhitePoint [0.9505 1.0 1.0890]
    >> ] /ColorSpace defineresource setcolorspace

} if


